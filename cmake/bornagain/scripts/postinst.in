#!/bin/sh
# postinst script for the BornAgain library
# creates symbolic links for the library files in the PYTHONPATH

set -e

# creating link to BornAgain gui in bin directory
echo "------------ POSTINSTALL OPERATIONS... ------------" 

COMMAND="ln -sf @CMAKE_INSTALL_PREFIX@/@destination_suffix@/exec/BornAgain @CMAKE_INSTALL_PREFIX@/bin/bornagain"
echo ${COMMAND}
${COMMAND}

# creating links for python
COMMAND="mv @CMAKE_INSTALL_PREFIX@/@destination_suffix@/bornagain @PYTHON_SITE_PACKAGES@/"
echo ${COMMAND}
${COMMAND}

COMMAND="ln -sf @CMAKE_INSTALL_PREFIX@/lib/@destination_suffix@/_libBornAgainCore.so @PYTHON_SITE_PACKAGES@/bornagain/"
echo ${COMMAND}
${COMMAND}

COMMAND="ln -sf @CMAKE_INSTALL_PREFIX@/lib/@destination_suffix@/_libBornAgainFit.so @PYTHON_SITE_PACKAGES@/bornagain/"
echo ${COMMAND}
${COMMAND}
